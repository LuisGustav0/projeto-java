<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Cadastro de produto</title>
	<style type="text/css">
.ui-widget {
	font-size: 90%;
}
</style>
<script language='JavaScript'>
function somenteNumero(valor) {
	valor.value = valor.value.replace(/[^0-9]/g,'');
}
</script>
</h:head>
<h:body>
	<f:metadata>
   		<f:viewAction action="#{produtoViewCtrl.iniciarVariaveis}" />
   	</f:metadata>

	<div class="ui-fluid">
	 	
	 	<p:messages autoUpdate="true" closable="true" />
	 	
		<h:form>
			<p:panelGrid id="painel"
						 columns="2"  
						 style="width: 100%;"
	    				 columnClasses="rotulo, campo">					 
				<p:outputLabel for="codigo" 
							   value="CÃ³digo:"/>
		        <p:inputText id="codigo" 
		        			 disabled="true"
		        			 style="width: 20%;"
		        			 value="#{produtoViewCtrl.produtoTO.codigo}"/>
		 
		        <p:outputLabel for="nome" 
		                       value="Nome:"/>
		        <p:inputText id="nome"
		        			 value="#{produtoViewCtrl.produtoTO.nome}"/>
		        			 
		        <p:outputLabel for="marca" value="Marca"/>
	    		<p:selectOneMenu id="marca" value="#{produtoViewCtrl.produtoTO.marcaTO}">
	    			<f:selectItem itemLabel="Selecione uma marca"/>
	    			<f:selectItems var="marcaTO"
	    						   value="#{produtoViewCtrl.marcas}"
	    						   itemLabel="#{marcaTO.nome}"  
	    						   itemValue="#{marcaTO}"/>
	    		</p:selectOneMenu>
	    		
	    		<p:outputLabel for="tipoProduto" value="Tipo de produto"/>
	    		<p:selectOneMenu id="tipoProduto" value="#{produtoViewCtrl.produtoTO.tipoProduto}">
	    			<f:selectItem itemLabel="Selecione uma tipo de produto"/>
	    			<f:selectItems var="tipoProduto"
	    						   value="#{produtoViewCtrl.tiposProduto}"
	    						   itemLabel="#{tipoProduto}"  
	    						   itemValue="#{tipoProduto}"/>
	    		</p:selectOneMenu>
	    		
	    		<p:outputLabel for="valor"
	    					   value="Valor"/>
	    		<p:inputText id="valor" 
	    					 value="#{produtoViewCtrl.produtoTO.valor}"
	    					 onkeyup="somenteNumero(this)">
	    		</p:inputText>
	    		
	    		<p:outputLabel for="dataValidade" 
	    					   value="Data de validade" />
        		<p:calendar id="dataValidade" 
        					mask="true" 
        					pattern="dd/MM/yyyy"
        					value="#{produtoViewCtrl.produtoTO.dataValidade}"/>
			</p:panelGrid>
			<p:toolbar>
        		<f:facet name="left">
        		<p:commandButton value="Salvar"
        						 actionListener="#{produtoViewCtrl.salvar}"
        						 process="@form" 
        						 update="@form">
			    </p:commandButton>
        		</f:facet>
        	</p:toolbar>
		</h:form>
	</div>
</h:body>
</html>